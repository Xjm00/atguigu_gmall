package com.atguigu.gmall.user.controller;import com.atguigu.gmall.user.bean.UmsMember;import com.atguigu.gmall.user.bean.UmsMemberLevel;import com.atguigu.gmall.user.bean.UmsMemberReceiveAddress;import com.atguigu.gmall.user.service.UmsMemberLevelService;import com.atguigu.gmall.user.service.UmsMemberReceiveAddressService;import com.atguigu.gmall.user.service.UserService;import com.atguigu.gmall.user.util.ResultEntity;import org.apache.catalina.User;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.bind.annotation.RestController;import java.util.ArrayList;import java.util.List;import static java.lang.Integer.*;@ResponseBody@RestControllerpublic class UserController {    @Autowired    private UserService userService;    @Autowired    private UmsMemberLevelService umsMemberLevelService;    @Autowired    private UmsMemberReceiveAddressService umsMemberReceiveAddressService;    /* *     * @Author 19680     * @Email xiaojm00@163.com     * @Description 后台功能：获取所有用户基本信息     * @Date 15:43 2020/1/5     * @Param []     * @return java.util.List<com.atguigu.gmall.user.bean.UmsMember>     **/    @RequestMapping("/get/usm/all")    public List<UmsMember> getUserAll(){        return userService.getUmsMemberAll();    }    /* *     * @Author 19680     * @Email xiaojm00@163.com     * @Description 后台功能：获取所有用户的会员等级信息     * @Date 15:41 2020/1/5     * @Param []     * @return java.util.List<com.atguigu.gmall.user.bean.UmsMemberLevel>     **/    @RequestMapping("/get/usm/level/all")    public List<UmsMemberLevel> getUmsMemberLevelAll(){        return umsMemberLevelService.getUmsMemberLevelAll();    }    /* *     * @Author 19680     * @Email xiaojm00@163.com     * @Description 前台功能：获取本User对象的会员等级，单个user只有唯一的会员等级     * @Date 15:38 2020/1/5     * @Param [id] User对象id属性     * @return com.atguigu.gmall.user.util.ResultEntity<com.atguigu.gmall.user.bean.UmsMemberLevel>     **/    @RequestMapping("/get/user/level/info/by/umsMemberid")    public ResultEntity<UmsMemberLevel> getUserLevelInfoById(@RequestParam("id")String id){        try {            UmsMember userMember = userService.getUserById(id);            String memberLevelId = userMember.getMemberLevelId();            UmsMemberLevel umsMemberLevel = umsMemberLevelService.getUmsMemberLevelById(memberLevelId);            return ResultEntity.successWithData(umsMemberLevel);        } catch (Exception e) {            return ResultEntity.failed(e.getMessage());        }    }    /* *     * @Author 19680     * @Email xiaojm00@163.com     * @Description 前台功能：获取本User对象的收货地址，多个收获地址     * @Date 17:23 2020/1/5     * @Param [id]     * @return com.atguigu.gmall.user.util.ResultEntity<java.util.List<com.atguigu.gmall.user.bean.UmsMemberReceiveAddress>>     **/    @RequestMapping("/get/user/receive/address/list")    public ResultEntity<List<UmsMemberReceiveAddress>> getUserReceiveAddressById(@RequestParam("id")String id){            UmsMember user = userService.getUserById(id);            String userId = user.getId();            List<UmsMemberReceiveAddress> list = umsMemberReceiveAddressService.getUmsMemberReceiveAddressByMemberId(userId);            return ResultEntity.successWithData(list);    }}